{"version":3,"file":"gatsby-node.js","names":["pluginInitApiName","findApiName","exports","runApiSteps","steps","setGatsbyApiToState","setErrorMap","tempPreventMultipleInstances","setRequestHeaders","pluginOptionsSchema","createSchemaCustomization","ensurePluginRequirementsAreMet","ingestRemoteSchema","sourceNodes","persistPreviouslyCachedImages","setImageNodeIdCache","onPreExtractQueries","onPreExtractQueriesInvokeLeftoverPreviewCallbacks","onPostBuild","logPostBuildWarnings","onCreatePage","onCreatepageSavePreviewNodeIdToPageDependency","onCreatePageRespondToPreviewStatusQuery","onCreateDevServer","imageRoutes","startPollingForContentUpdates"],"sources":["../src/gatsby-node.ts"],"sourcesContent":["import { runApiSteps, findApiName } from \"./utils/run-steps\"\nimport * as steps from \"./steps\"\n\nconst pluginInitApiName = findApiName(`onPluginInit`)\n\nexports[pluginInitApiName] = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.setErrorMap,\n    steps.tempPreventMultipleInstances,\n    steps.setRequestHeaders,\n  ],\n  pluginInitApiName\n)\n\nexports.pluginOptionsSchema = steps.pluginOptionsSchema\n\nexports.createSchemaCustomization = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.ensurePluginRequirementsAreMet,\n    steps.ingestRemoteSchema,\n    steps.createSchemaCustomization,\n  ],\n  `createSchemaCustomization`\n)\n\nexports.sourceNodes = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.persistPreviouslyCachedImages,\n    steps.sourceNodes,\n    steps.setImageNodeIdCache,\n  ],\n  `sourceNodes`\n)\n\nexports.onPreExtractQueries = runApiSteps(\n  [steps.onPreExtractQueriesInvokeLeftoverPreviewCallbacks],\n  `onPreExtractQueries`\n)\n\nexports.onPostBuild = runApiSteps(\n  [steps.setImageNodeIdCache, steps.logPostBuildWarnings],\n  `onPostBuild`\n)\n\nexports.onCreatePage = runApiSteps(\n  [\n    steps.onCreatepageSavePreviewNodeIdToPageDependency,\n    steps.onCreatePageRespondToPreviewStatusQuery,\n  ],\n  `onCreatePage`\n)\n\nexports.onCreateDevServer = runApiSteps(\n  [\n    steps.imageRoutes,\n    steps.setImageNodeIdCache,\n    steps.logPostBuildWarnings,\n    steps.startPollingForContentUpdates,\n  ],\n  `onCreateDevServer`\n)\n"],"mappings":";;AAAA;AACA;AAAgC;AAAA;AAEhC,MAAMA,iBAAiB,GAAG,IAAAC,qBAAW,EAAE,cAAa,CAAC;AAErDC,OAAO,CAACF,iBAAiB,CAAC,GAAG,IAAAG,qBAAW,EACtC,CACEC,KAAK,CAACC,mBAAmB,EACzBD,KAAK,CAACE,WAAW,EACjBF,KAAK,CAACG,4BAA4B,EAClCH,KAAK,CAACI,iBAAiB,CACxB,EACDR,iBAAiB,CAClB;AAEDE,OAAO,CAACO,mBAAmB,GAAGL,KAAK,CAACK,mBAAmB;AAEvDP,OAAO,CAACQ,yBAAyB,GAAG,IAAAP,qBAAW,EAC7C,CACEC,KAAK,CAACC,mBAAmB,EACzBD,KAAK,CAACO,8BAA8B,EACpCP,KAAK,CAACQ,kBAAkB,EACxBR,KAAK,CAACM,yBAAyB,CAChC,EACA,2BAA0B,CAC5B;AAEDR,OAAO,CAACW,WAAW,GAAG,IAAAV,qBAAW,EAC/B,CACEC,KAAK,CAACC,mBAAmB,EACzBD,KAAK,CAACU,6BAA6B,EACnCV,KAAK,CAACS,WAAW,EACjBT,KAAK,CAACW,mBAAmB,CAC1B,EACA,aAAY,CACd;AAEDb,OAAO,CAACc,mBAAmB,GAAG,IAAAb,qBAAW,EACvC,CAACC,KAAK,CAACa,iDAAiD,CAAC,EACxD,qBAAoB,CACtB;AAEDf,OAAO,CAACgB,WAAW,GAAG,IAAAf,qBAAW,EAC/B,CAACC,KAAK,CAACW,mBAAmB,EAAEX,KAAK,CAACe,oBAAoB,CAAC,EACtD,aAAY,CACd;AAEDjB,OAAO,CAACkB,YAAY,GAAG,IAAAjB,qBAAW,EAChC,CACEC,KAAK,CAACiB,6CAA6C,EACnDjB,KAAK,CAACkB,uCAAuC,CAC9C,EACA,cAAa,CACf;AAEDpB,OAAO,CAACqB,iBAAiB,GAAG,IAAApB,qBAAW,EACrC,CACEC,KAAK,CAACoB,WAAW,EACjBpB,KAAK,CAACW,mBAAmB,EACzBX,KAAK,CAACe,oBAAoB,EAC1Bf,KAAK,CAACqB,6BAA6B,CACpC,EACA,mBAAkB,CACpB"}