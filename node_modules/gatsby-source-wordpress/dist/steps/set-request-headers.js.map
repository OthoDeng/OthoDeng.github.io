{"version":3,"file":"set-request-headers.js","names":["setRequestHeaders","actions","pluginOptions","getPluginOptions","auth","url","password","username","htaccess","domain","headers","Authorization","b64e"],"sources":["../../src/steps/set-request-headers.ts"],"sourcesContent":["import { b64e } from \"~/utils/string-encoding\"\nimport { getPluginOptions } from \"~/utils/get-gatsby-api\"\n\nimport type { Step } from \"~/utils/run-steps\"\n\nexport const setRequestHeaders: Step = ({ actions }): void => {\n  if (typeof actions?.setRequestHeaders !== `function`) {\n    return\n  }\n\n  const pluginOptions = getPluginOptions()\n\n  const { auth, url } = pluginOptions\n  const { password, username } = auth?.htaccess || {}\n\n  if (password && username) {\n    actions.setRequestHeaders({\n      domain: url,\n      headers: {\n        Authorization: `Basic ${b64e(`${username}:${password}`)}`,\n      },\n    })\n  }\n}\n"],"mappings":";;;;AAAA;AACA;AAIO,MAAMA,iBAAuB,GAAG,CAAC;EAAEC;AAAQ,CAAC,KAAW;EAC5D,IAAI,QAAOA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAED,iBAAiB,MAAM,UAAS,EAAE;IACpD;EACF;EAEA,MAAME,aAAa,GAAG,IAAAC,8BAAgB,GAAE;EAExC,MAAM;IAAEC,IAAI;IAAEC;EAAI,CAAC,GAAGH,aAAa;EACnC,MAAM;IAAEI,QAAQ;IAAEC;EAAS,CAAC,GAAG,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,QAAQ,KAAI,CAAC,CAAC;EAEnD,IAAIF,QAAQ,IAAIC,QAAQ,EAAE;IACxBN,OAAO,CAACD,iBAAiB,CAAC;MACxBS,MAAM,EAAEJ,GAAG;MACXK,OAAO,EAAE;QACPC,aAAa,EAAG,SAAQ,IAAAC,oBAAI,EAAE,GAAEL,QAAS,IAAGD,QAAS,EAAC,CAAE;MAC1D;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AAAA"}