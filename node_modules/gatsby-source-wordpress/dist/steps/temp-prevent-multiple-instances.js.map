{"version":3,"file":"temp-prevent-multiple-instances.js","names":["isWpSourcePluginInstalled","tempPreventMultipleInstances","reporter","panic","formatLogMessage","useVerboseStyle"],"sources":["../../src/steps/temp-prevent-multiple-instances.ts"],"sourcesContent":["import { Reporter } from \"gatsby/reporter\"\nimport { formatLogMessage } from \"../utils/format-log-message\"\n\nlet isWpSourcePluginInstalled = false\n\n/**\n * Temporarily break the build when a user defines multiple source configs for the plugin\n * See https://github.com/gatsbyjs/gatsby-source-wordpress/issues/251\n * @param {Reporter} reporter\n */\n\nexport function tempPreventMultipleInstances({\n  reporter,\n}: {\n  reporter: Reporter\n}): void {\n  if (isWpSourcePluginInstalled) {\n    reporter.panic(\n      formatLogMessage(\n        `Multiple instances of this plugin aren't currently supported yet.`,\n        { useVerboseStyle: true }\n      )\n    )\n  } else {\n    isWpSourcePluginInstalled = true\n  }\n}\n"],"mappings":";;;;AACA;AAEA,IAAIA,yBAAyB,GAAG,KAAK;;AAErC;AACA;AACA;AACA;AACA;;AAEO,SAASC,4BAA4B,CAAC;EAC3CC;AAGF,CAAC,EAAQ;EACP,IAAIF,yBAAyB,EAAE;IAC7BE,QAAQ,CAACC,KAAK,CACZ,IAAAC,kCAAgB,EACb,mEAAkE,EACnE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAC1B,CACF;EACH,CAAC,MAAM;IACLL,yBAAyB,GAAG,IAAI;EAClC;AACF"}