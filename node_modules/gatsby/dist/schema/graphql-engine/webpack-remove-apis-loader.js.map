{"version":3,"file":"webpack-remove-apis-loader.js","names":["apisToKeep","Set","schemaCustomizationAPIs","add","module","exports","loader","source","result","transformSync","babelrc","configFile","plugins","require","resolve","apis","Object","keys","nodeApis","filter","api","has","code"],"sources":["../../../src/schema/graphql-engine/webpack-remove-apis-loader.ts"],"sourcesContent":["import { transformSync } from \"@babel/core\"\nimport { GatsbyNodeAPI } from \"../../redux/types\"\nimport * as nodeApis from \"../../utils/api-node-docs\"\nimport { schemaCustomizationAPIs } from \"./print-plugins\"\n\nconst apisToKeep = new Set(schemaCustomizationAPIs)\napisToKeep.add(`onPluginInit`)\n\nmodule.exports = function loader(source: string): string | null | undefined {\n  const result = transformSync(source, {\n    babelrc: false,\n    configFile: false,\n    plugins: [\n      [\n        require.resolve(`../../utils/babel/babel-plugin-remove-api`),\n        {\n          apis: (Object.keys(nodeApis) as Array<GatsbyNodeAPI>).filter(\n            api => !apisToKeep.has(api)\n          ),\n        },\n      ],\n    ],\n  })\n\n  return result?.code\n}\n"],"mappings":";;AAAA;;AAEA;;AACA;;;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,GAAJ,CAAQC,qCAAR,CAAnB;AACAF,UAAU,CAACG,GAAX,CAAgB,cAAhB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,MAAT,CAAgBC,MAAhB,EAA2D;EAC1E,MAAMC,MAAM,GAAG,IAAAC,mBAAA,EAAcF,MAAd,EAAsB;IACnCG,OAAO,EAAE,KAD0B;IAEnCC,UAAU,EAAE,KAFuB;IAGnCC,OAAO,EAAE,CACP,CACEC,OAAO,CAACC,OAAR,CAAiB,2CAAjB,CADF,EAEE;MACEC,IAAI,EAAGC,MAAM,CAACC,IAAP,CAAYC,QAAZ,CAAD,CAAgDC,MAAhD,CACJC,GAAG,IAAI,CAACpB,UAAU,CAACqB,GAAX,CAAeD,GAAf,CADJ;IADR,CAFF,CADO;EAH0B,CAAtB,CAAf;EAeA,OAAOZ,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEc,IAAf;AACD,CAjBD"}